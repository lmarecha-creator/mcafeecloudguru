---
title: "Lab 3 - Hard"
chapter: false
weight: 120
tags:
  - beginner
  - AWSWorkshop2020
  - shiftleft
  
---


## Hard difficulty
Now we are making things a bit more complicated, this time, use the template named "amazon-eks-nodegroup.json"

The steps in this lab are similar to those of Lab 1:

1. In Cloud 9 console side navigation, expand the folder for your repository, and from the menu choose file, uplaod local files and upload the file with name “ amazon-eks-nodegroup.json” provided by the instructor.

2. When you have finished importing files, in the terminal window, change directories to your cloned repository and then commit and push your changes. For example, if you added a new file named MyFile.py:

cd Shift-left-repo

git status

git add MyFile.py

git commit -a -m "Updated Security Configuration"

git push

3. Go to your CodeCommit and verify that it received the code

4. Go to CodeBuild and click on Build projects. You will notice that latest build status is in progress

3. Observe the project's build progress in the build window.

4.  The build will fail.  Let's click the number of vioalation of the recent build to explore why.

5.  From the build status screen, click "Console Output".

6.  Investigate the cause of the build failure from the console output.

7.  Back in Cloud9, expand the “shift-left-repo” folder and double click the “amazon-eks-nodegroup.json” file to open it in the Cloud9 code editor:

8.  Using the information in the failed CodeBuild console output, try to find and fix the problem within the template. Feel free to use Google and AWS Documentation to assist with making the necessary changes!
9.  When you are satisfied with your changes, save them ("File > Save") and then commit and push the changes to your repository.

10. Commit the code changes to your local copy of the code with the command ``git commit -a -m "Updated Security Configuration"`` and then push the changes to your repo by entering ``git push``

Note: This will trigger an automatic build of your new code in CodeBuild within a few seconds.

11. Go back to CodeBuild console output to see if the new build was successful.

12. If not, then investigate why it failed, try fix the issue check in the code changes again, and investigate the next build!




